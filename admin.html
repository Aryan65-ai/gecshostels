<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin ‚Ä¢ Government Engineering College Hostel</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" type="image/png" href="https://i.ibb.co/Lh5yXwk8/download-1.png">
</head>

<body>
  <header class="site-header">
    <div class="header-inner">
      <div class="brand">
        <img class="brand-logo" alt="GEC Hostel" src="https://i.ibb.co/Lh5yXwk8/download-1.png" />
        <span class="brand-title">GEC Samastipur Hostel</span>
      </div>
      <nav class="nav">
        <a href="home.html" class="nav-link">Home</a>
        <a href="hostel.html" class="nav-link">Hostel</a>
        <a href="payment.html" class="nav-link">Payment</a>
        <a href="about.html" class="nav-link">About</a>
        <a href="student-profile.html" class="nav-link">Profile</a>
        <a href="admin.html" class="nav-link active">Admin</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <div class="admin-login-wrapper" id="admin-login-card">
      <section class="card">
        <h2>Administrator Login</h2>
        <form id="adminLoginForm" class="form">
          <div class="grid two">
            <div>
              <label for="adminUser">Username / Email</label>
              <input type="text" id="adminUser" required placeholder="Enter username or email">
            </div>
            <div>
              <label for="adminPass">Password</label>
              <input type="password" id="adminPass" required placeholder="Enter password">
            </div>
          </div>
          <button type="submit" class="btn primary">Sign in</button>
          <p id="adminLoginMsg" class="muted"></p>
        </form>
      </section>
    </div>

    <section class="hidden" id="admin-dashboard">
      <div class="admin-dashboard-header">
        <h2>Dashboard</h2>
        <button type="button" class="btn-logout" id="adminLogout">Log out</button>
      </div>

      <div class="card admin-section">
        <h3 class="admin-section-title"><span class="icon">‚ö°</span> Quick actions</h3>
        <div class="grid two">
          <div class="fee-card">
            <h4 style="margin-top:0;">Post Notice</h4>
            <form id="postNoticeForm" class="form">
              <label for="noticeText">Notice</label>
              <textarea id="noticeText" rows="3" placeholder="Type your notice here‚Ä¶"></textarea>
              <button type="submit" class="btn primary">Publish</button>
              <p class="muted" style="margin-top:12px;margin-bottom:0;">Visible on home page.</p>
            </form>
          </div>
          <div class="fee-card">
            <h4 style="margin-top:0;">Update Fees</h4>
            <form id="updateFeesForm" class="form">
              <label for="messFee">Mess Fee (per month)</label>
              <input type="text" id="messFee" placeholder="‚Çπ 3,500">
              <label for="singleFee">Single (per year)</label>
              <input type="text" id="singleFee" placeholder="‚Çπ 18,000">
              <label for="tripleFee">Triple (per year)</label>
              <input type="text" id="tripleFee" placeholder="‚Çπ 15,000">
              <button type="submit" class="btn primary">Save</button>
            </form>
          </div>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üè†</span> Room Management</h3>
        <div class="grid two">
          <div class="fee-card">
            <h4 style="margin-top:0;">Add / Update Room</h4>
            <form id="addRoomForm" class="form">
              <div class="grid two" style="gap:10px">
                <div>
                  <label for="roomFloor">Floor</label>
                  <select id="roomFloor" required>
                    <option value="1">Floor 1</option>
                    <option value="2">Floor 2</option>
                    <option value="3">Floor 3</option>
                    <option value="4">Floor 4</option>
                  </select>
                </div>
                <div>
                  <label for="roomNumber">Room Number</label>
                  <input type="text" id="roomNumber" required placeholder="e.g. 101, 205">
                </div>
              </div>
              <label for="roomType">Room Type</label>
              <select id="roomType" required>
                <option value="single">Single</option>
                <option value="triple">Triple</option>
              </select>
              <div style="margin-top:10px;">
                <label><input type="checkbox" id="roomAvailable" checked> Available</label>
              </div>
              <button type="submit" class="btn primary" style="margin-top:10px;">Add Room</button>
            </form>
          </div>
          <div class="fee-card">
            <h4 style="margin-top:0;">Room Statistics</h4>
            <div class="grid two" style="gap:8px">
              <p><strong>Total Rooms:</strong> <span id="statTotalRooms">0</span></p>
              <p><strong>Available:</strong> <span id="statAvailableRooms" style="color:#10b981">0</span></p>
              <p><strong>Occupied:</strong> <span id="statOccupiedRooms" style="color:#ef4444">0</span></p>
              <p><strong>Single:</strong> <span id="statSingleRooms">0</span></p>
              <p><strong>Triple:</strong> <span id="statTripleRooms">0</span></p>
            </div>
          </div>
        </div>
        <div style="margin-top:16px">
          <h4>üîç Filter Rooms</h4>
          <div class="grid two" style="gap:10px; margin-bottom:10px;">
            <div>
              <label for="filterRoomFloor">Floor</label>
              <select id="filterRoomFloor">
                <option value="">All Floors</option>
                <option value="1">Floor 1</option>
                <option value="2">Floor 2</option>
                <option value="3">Floor 3</option>
                <option value="4">Floor 4</option>
              </select>
            </div>
            <div>
              <label for="filterRoomType">Type</label>
              <select id="filterRoomType">
                <option value="">All Types</option>
                <option value="single">Single</option>
                <option value="triple">Triple</option>
              </select>
            </div>
          </div>
          <div id="adminRoomsTable">
            <p class="muted">Loading rooms‚Ä¶</p>
          </div>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üì±</span> Payment Information</h3>
        <div class="admin-upi-block">
          <p class="muted" style="margin:0;">Admin UPI ID</p>
          <p class="upi-id">7782891946@paytm</p>
          <p class="hint">Students use this UPI ID to pay the hostel admin. Shown on the payment page.</p>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">‚è≥</span> Pending Payment Confirmations</h3>
        <div id="pendingPaymentsList">
          <p class="muted">No pending payments</p>
        </div>
        <div class="admin-actions-row">
          <button class="btn primary" id="refreshPendingPayments">Refresh</button>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üñº</span> Payment Screenshots Gallery</h3>
        <div id="screenshotsGallery">
          <p class="muted">No screenshots uploaded yet</p>
        </div>
        <div class="admin-actions-row">
          <button class="btn primary" id="refreshScreenshots">Refresh Gallery</button>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üìã</span> i-Complain Management</h3>
        <div class="fee-card">
          <h4>Complaint Statistics - Coming Soon</h4>
          <!-- Placeholder for complaint stats handled by admin.js logic if needed -->
        </div>
        <div id="complaintsList" style="margin-top: 20px;">
          <h4>üìã Complaints List</h4>
          <div id="complaintsTable">
            <p class="muted">Loading complaints...</p>
          </div>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üë•</span> Student Management</h3>
        <div class="fee-card">
          <h4>Student Statistics</h4>
          <div class="grid two">
            <div>
              <p><strong>Total Students:</strong> <span id="totalStudents">0</span></p>
            </div>
          </div>
        </div>
        <div id="studentsList" style="margin-top: 20px;">
          <h4>üìã Student List</h4>
          <div id="studentsTable">
            <p class="muted">Loading students...</p>
          </div>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üìä</span> Payment Statistics</h3>
        <div class="admin-stat-grid">
          <div class="admin-stat-card">
            <h4>Total Revenue</h4>
            <p id="totalRevenue" class="value">‚Çπ0</p>
          </div>
          <div class="admin-stat-card">
            <h4>Total Transactions</h4>
            <p id="totalTransactions" class="value muted">0</p>
          </div>
        </div>
      </div>

      <div class="card admin-section" style="margin-top:16px">
        <h3 class="admin-section-title"><span class="icon">üìú</span> All Payments Log</h3>
        <div class="fee-card">
          <div id="tablePayments"></div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <span>&copy; <span id="year"></span> Government Engineering College Samastipur Hostel</span>
    </div>
  </footer>

  <script src="api.js"></script>
  <script src="admin.js"></script>
</body>

</html>